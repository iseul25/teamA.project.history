<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <title>중등 역사 교육</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            /* border: solid 1px #ddd; */
        }

        body {
            background-image: url(../img/mainBg1.png);
        }

        /* header */
        header {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            margin-top: 30px;
            padding: 0 400px;
            width: 100%;
            box-sizing: border-box;
        }

        header img {
            /* border: solid 1px #333; */
            width: 50px;
        }

        header h1 {
            color: #333;
        }

        header>img,
        h1 {
            justify-content: center;
            align-items: center;
            vertical-align: middle;
            margin: 5px;
        }

        /* 메인 이미지 */
        #mainScreen {
            width: 100%;
            max-width: 1100px;
            height: 500px;
            margin: 0 auto;
            margin-top: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 2px #333;
            overflow: hidden;
        }

        #mainScreen img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            /* 이미지 비율 유지하면서 꽉 채움 */
        }

        /* box 부분 */
        #box1,
        #box2 {
            /* border: solid 1px #ccc; */
            width: 60%;
            margin: 35px 360px;
            margin-top: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 35px;
        }

        #studyBox,
        #quizBox,
        #attendBox,
        #pointBox,
        #faqBox,
        #noticeBox {
            width: 200px;
            height: 80px;
            padding: 20px;
            background-color: #fce1be;
            border: solid 1px #ddd;
            border-radius: 15px;
            box-shadow: 0px 2px 2px #333;
            font-size: 25px;
            text-align: center;
            vertical-align: auto;
        }

        #box,
        #loginBox {
            /* border: solid 1px #333333; */
            display: inline-block;
            vertical-align: middle;
        }

        #box {
            width: 1000px;
            justify-content: center;
            align-items: flex-start;
            vertical-align: auto;
            margin: 0 60px;
        }

        /* 로그인 box */
        #loginBox {
            width: 270px;
            height: 160px;
            background-color: #fcf3e7;
            border: solid 1px #ddd;
            border-radius: 15px;
            box-shadow: 0px 2px 2px #333;
            text-align: center;
            justify-content: center;
            align-items: center;
        }

        #inputRow {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 5px;
            padding-bottom: 5px;
        }

        #lgBox {
            /* border: solid 1px #333333; */
            width: 60px;
            height: 50px;
            font-weight: bold;
            border: solid 1px #444;
            border-radius: 10%;
            background-color: #cce6f8;
            box-shadow: 0px 1.5px 1.5px #333;

        }

        #suRow {
            padding-left: 11.5px;
        }

        #suBox {
            width: 240px;
            height: 30px;
            font-weight: bold;
            border: solid 1px #444;
            background-color: #fff2da;
            box-shadow: 0px 1.5px 1.5px #333;
            justify-content: center;
            align-items: center;
            padding-top: 4.5px;
        }

        .login-link-btn {
            display: block;
            margin-top: 10px;
            padding: 6px 12px;
            border-radius: 5px;
            color: white;
            font-weight: bold;
            text-decoration: none;
            transition: background-color 0.3s ease;
        }

        .login-link-btn.admin {
            background-color: #e57373; /* Admin color */
        }

        .login-link-btn.admin:hover {
            background-color: #d32f2f;
        }

        .login-link-btn.user {
            background-color: #64b5f6; /* User color */
        }

        .login-link-btn.user:hover {
            background-color: #1976d2;
        }

        .login-link-btn.logout {
            background-color: #90a4ae; /* Logout color */
        }

        .login-link-btn.logout:hover {
            background-color: #546e7a;
        }


        /* 하단 부분 */
        #tel {
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #EEE7DA;
            margin-top: 20px;
            padding: 0 200px;
        }

        #tel>ul {
            display: flex;
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        #tel>ul li {
            display: block;
            color: #333;
            text-align: center;
            padding: 5px 8px;
            text-decoration: none;
        }
    </style>
</head>

<body>
<div id="container">
    <header>
        <img src="img/logo1.png" alt="logo">
        <h1>중등 역사 교육</h1>
    </header>
    <div id="bgImg">
        <div id="mainScreen" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                <li data-target="#myCarousel" data-slide-to="1"></li>
                <li data-target="#myCarousel" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="item active">
                    <img src="img/bg6.jpg" alt="bg6" style="width: 100%;">
                </div>
                <div class="item">
                    <img src="img/bg5.jpg" alt="bg5" style="width: 100%;">
                </div>
                <div class="item">
                    <img src="img/bg1.jpg" alt="bg1" style="width: 100%;">
                </div>
            </div>
            <!-- 슬라이드 버튼 -->
            <a class="left carousel-control" href="#mainScreen" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#mainScreen" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
    <div id="box">
        <div id="box1">
            <div id="studyBox">
                <a href="" style="color: #333;">학습하기</a>
            </div>
            <div id="quizBox">
                <a href="" style="color: #333;">퀴즈풀기</a>
            </div>
            <div id="attendBox">
                <a href="" style="color: #333;">출석하기</a>
            </div>
        </div>
        <div id="box2">
            <div id="pointBox">
                <a href="" style="color: #333;">포인트 상점</a>
            </div>
            <div id="faqBox">
                <a href="" style="color: #333;">FAQ</a>
            </div>
            <div id="noticeBox">
                <a href="" style="color: #333;">공지사항</a>
            </div>
        </div>
    </div>
    <!-- 로그인 box 부분 수정 -->
    <div id="loginBox">
        <div id="loginStatus">
            <ul>
                <!-- 비로그인 상태 -->
                <li th:if="${session.loginUser == null}" style="list-style: none;">
                    <h3>Login</h3>
                    <div id="inputRow">
                        <div id="inputBox">
                            <form th:action="@{/user/login}" method="post">
                                <input type="text" name="email" id="id" placeholder="아이디를 입력해 주세요."><br>
                                <input type="password" name="password" id="pw" placeholder="비밀번호를 입력해 주세요.">
                                <button type="submit" id="lgBox">로그인</button>
                            </form>
                        </div>
                    </div>
                    <div id="suRow">
                        <div id="suBox">
                            <a th:href="@{/user/add}" style="color: #333;">회원가입</a>
                        </div>
                    </div>
                    <!-- 로그인 오류 메시지 및 회원가입 버튼 추가 -->
                    <div th:if="${loginError == 'notFound'}" style="margin-top: 10px; color: #dc3545;">
                        <p style="margin-bottom: 5px;">없는 아이디입니다. 새로 가입하시겠습니까?</p>
                    </div>
                </li>
                <!-- 로그인 상태 -->
                <li th:unless="${session.loginUser == null}" style="list-style: none;">
                        <span th:text="${session.loginUser.name} + '님, 환영합니다!'"
                              style="color: #333; font-weight: bold;"></span>
                    <br>
                    <!-- 사용자 유형에 따라 하나의 링크만 표시 -->
                    <a th:if="${session.loginUser.userType == 'A'}" th:href="@{/admin/page}"
                       class="login-link-btn admin">관리자 페이지</a>
                    <a th:if="${session.loginUser.userType == 'USER'}" th:href="@{/user/mypage}"
                       class="login-link-btn user">마이페이지</a>
                    <a th:href="@{/user/logout}" class="login-link-btn logout">로그아웃</a>
                </li>
            </ul>
        </div>
    </div>
    <div id="tel">
        <ul>
            <li>대표전화: 042-222-2402</li>
            <li>주소: (34838) 대전 중구 중앙로121번길 20(방산빌딩 3층)</li>
            <li>운영시간: 평일 09:00 ~ 18:00 (주말·공휴일 휴무)</li>
            <li>© 2025 중등 역사 교육. All rights reserved.</li>
        </ul>
    </div>
</div>
</body>
</html>
